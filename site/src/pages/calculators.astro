---
---

<html lang="ru">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <title>Калькуляторы</title>
  </head>
  <body>
    <main style="max-width: 900px; margin: 0 auto; padding: 24px; font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;">
      <nav style="margin-bottom: 16px;">
        <a href="/" style="text-decoration: none;">Главная</a>
      </nav>

      <h1 style="margin: 0 0 16px;">Калькуляторы</h1>

      <section style="border: 1px solid #e5e7eb; border-radius: 12px; padding: 16px; margin-bottom: 16px;">
        <h2 style="margin: 0 0 12px; font-size: 18px;">ИМТ (BMI)</h2>
        <div style="display: grid; gap: 8px; max-width: 420px;">
          <label>Рост (см)<br /><input id="bmi_h" type="number" inputmode="decimal" style="width: 100%; padding: 10px; border: 1px solid #e5e7eb; border-radius: 10px;" /></label>
          <label>Вес (кг)<br /><input id="bmi_w" type="number" inputmode="decimal" style="width: 100%; padding: 10px; border: 1px solid #e5e7eb; border-radius: 10px;" /></label>
          <button id="bmi_btn" type="button" style="padding: 10px 12px; border-radius: 10px; border: 1px solid #111827; background: #111827; color: white;">Посчитать</button>
          <div id="bmi_out" style="color: #111827;"></div>
        </div>
      </section>

      <section style="border: 1px solid #e5e7eb; border-radius: 12px; padding: 16px; margin-bottom: 16px;">
        <h2 style="margin: 0 0 12px; font-size: 18px;">TDEE (поддержание калорий)</h2>
        <div style="display: grid; gap: 8px; max-width: 520px;">
          <label>Пол<br />
            <select id="tdee_sex" style="width: 100%; padding: 10px; border: 1px solid #e5e7eb; border-radius: 10px;">
              <option value="male">Муж</option>
              <option value="female">Жен</option>
            </select>
          </label>
          <label>Возраст (лет)<br /><input id="tdee_age" type="number" style="width: 100%; padding: 10px; border: 1px solid #e5e7eb; border-radius: 10px;" /></label>
          <label>Рост (см)<br /><input id="tdee_h" type="number" style="width: 100%; padding: 10px; border: 1px solid #e5e7eb; border-radius: 10px;" /></label>
          <label>Вес (кг)<br /><input id="tdee_w" type="number" style="width: 100%; padding: 10px; border: 1px solid #e5e7eb; border-radius: 10px;" /></label>
          <label>Активность<br />
            <select id="tdee_act" style="width: 100%; padding: 10px; border: 1px solid #e5e7eb; border-radius: 10px;">
              <option value="1.2">Минимальная (сидячий)</option>
              <option value="1.375">Лёгкая (1-3 трен/нед)</option>
              <option value="1.55">Средняя (3-5 трен/нед)</option>
              <option value="1.725">Высокая (6-7 трен/нед)</option>
              <option value="1.9">Очень высокая (физ. работа)</option>
            </select>
          </label>
          <button id="tdee_btn" type="button" style="padding: 10px 12px; border-radius: 10px; border: 1px solid #111827; background: #111827; color: white;">Посчитать</button>
          <div id="tdee_out" style="color: #111827;"></div>
        </div>
      </section>

      <section style="border: 1px solid #e5e7eb; border-radius: 12px; padding: 16px;">
        <h2 style="margin: 0 0 12px; font-size: 18px;">1RM (оценка максимума на 1 повтор)</h2>
        <div style="display: grid; gap: 8px; max-width: 420px;">
          <label>Вес (кг)<br /><input id="rm_w" type="number" inputmode="decimal" style="width: 100%; padding: 10px; border: 1px solid #e5e7eb; border-radius: 10px;" /></label>
          <label>Повторы (1-12)<br /><input id="rm_r" type="number" style="width: 100%; padding: 10px; border: 1px solid #e5e7eb; border-radius: 10px;" /></label>
          <button id="rm_btn" type="button" style="padding: 10px 12px; border-radius: 10px; border: 1px solid #111827; background: #111827; color: white;">Посчитать</button>
          <div id="rm_out" style="color: #111827;"></div>
        </div>
      </section>

      <script>
        (function () {
          function n(v) {
            var x = Number(v);
            return Number.isFinite(x) ? x : NaN;
          }

          var bmiBtn = document.getElementById('bmi_btn');
          bmiBtn && bmiBtn.addEventListener('click', function () {
            var h = n(document.getElementById('bmi_h').value) / 100;
            var w = n(document.getElementById('bmi_w').value);
            var out = document.getElementById('bmi_out');
            if (!out) return;
            if (!h || !w) { out.textContent = 'Заполни рост и вес.'; return; }
            var bmi = w / (h * h);
            out.textContent = 'ИМТ: ' + bmi.toFixed(1);
          });

          var tdeeBtn = document.getElementById('tdee_btn');
          tdeeBtn && tdeeBtn.addEventListener('click', function () {
            var sex = document.getElementById('tdee_sex').value;
            var age = n(document.getElementById('tdee_age').value);
            var h = n(document.getElementById('tdee_h').value);
            var w = n(document.getElementById('tdee_w').value);
            var act = n(document.getElementById('tdee_act').value);
            var out = document.getElementById('tdee_out');
            if (!out) return;
            if (!age || !h || !w || !act) { out.textContent = 'Заполни все поля.'; return; }
            // Mifflin-St Jeor
            var bmr = (sex === 'male')
              ? (10 * w + 6.25 * h - 5 * age + 5)
              : (10 * w + 6.25 * h - 5 * age - 161);
            var tdee = bmr * act;
            out.textContent = 'Поддержание: ' + Math.round(tdee) + ' ккал/день';
          });

          var rmBtn = document.getElementById('rm_btn');
          rmBtn && rmBtn.addEventListener('click', function () {
            var w = n(document.getElementById('rm_w').value);
            var r = n(document.getElementById('rm_r').value);
            var out = document.getElementById('rm_out');
            if (!out) return;
            if (!w || !r) { out.textContent = 'Заполни вес и повторы.'; return; }
            if (r < 1 || r > 12) { out.textContent = 'Повторы должны быть 1-12.'; return; }
            // Epley
            var oneRm = w * (1 + r / 30);
            out.textContent = '1RM (оценка): ' + oneRm.toFixed(1) + ' кг';
          });
        })();
      </script>
    </main>
  </body>
</html>
