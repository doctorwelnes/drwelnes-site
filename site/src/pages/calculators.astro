---
---

<html lang="ru">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <title>Калькуляторы</title>
  </head>
  <body>
    <main style="min-height: 100vh; background: radial-gradient(1200px 600px at 20% -10%, #dbeafe 0%, rgba(219,234,254,0) 55%), radial-gradient(900px 520px at 90% 0%, #fce7f3 0%, rgba(252,231,243,0) 55%), #ffffff; font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;">
      <div style="max-width: 980px; margin: 0 auto; padding: 28px 20px 36px;">
        <header style="display: flex; align-items: center; justify-content: space-between; gap: 12px; margin-bottom: 18px;">
          <div style="display: flex; align-items: center; gap: 10px;">
            <img src="/logo.png" alt="Dr.Welnes" width="34" height="34" style="display:block; width:34px; height:34px; border-radius: 10px; object-fit: cover;" />
            <div style="font-weight: 700; letter-spacing: -0.01em;">Dr.Welnes</div>
          </div>
          <nav style="display: flex; flex-wrap: wrap; gap: 10px;">
            <a href="/recipes" style="text-decoration: none; color: #111827; padding: 8px 10px; border-radius: 10px;">Рецепты</a>
            <a href="/exercises" style="text-decoration: none; color: #111827; padding: 8px 10px; border-radius: 10px;">Упражнения</a>
            <a href="/theory" style="text-decoration: none; color: #111827; padding: 8px 10px; border-radius: 10px;">Теория</a>
            <a href="/calculators" style="text-decoration: none; color: #111827; padding: 8px 10px; border-radius: 10px;">Калькуляторы</a>
          </nav>
        </header>

        <section style="border: 1px solid rgba(229,231,235,.9); background: rgba(255,255,255,.8); backdrop-filter: blur(10px); border-radius: 18px; padding: 22px; box-shadow: 0 10px 30px rgba(15,23,42,.08);">
          <h1 style="margin: 0 0 10px; font-size: 28px; line-height: 1.15; letter-spacing: -0.03em;">Калькуляторы</h1>
          <p style="margin: 0; color: #4b5563; font-size: 16px; line-height: 1.55; max-width: 64ch;">ИМТ, TDEE и оценка 1RM — быстро и без регистрации.</p>
        </section>

        <section style="margin-top: 12px; display: flex; flex-wrap: wrap; gap: 10px;">
          <a href="#bmi" data-calc="bmi" style="display: inline-flex; align-items: center; justify-content: center; gap: 8px; padding: 10px 14px; border-radius: 12px; text-decoration: none; background: #111827; color: #ffffff; font-weight: 600;">ИМТ</a>
          <a href="#tdee" data-calc="tdee" style="display: inline-flex; align-items: center; justify-content: center; gap: 8px; padding: 10px 14px; border-radius: 12px; text-decoration: none; background: #ffffff; color: #111827; border: 1px solid #e5e7eb; font-weight: 600;">TDEE</a>
          <a href="#1rm" data-calc="1rm" style="display: inline-flex; align-items: center; justify-content: center; gap: 8px; padding: 10px 14px; border-radius: 12px; text-decoration: none; background: #ffffff; color: #111827; border: 1px solid #e5e7eb; font-weight: 600;">1RM</a>
        </section>

      <section id="bmi" data-calc-panel style="margin-top: 16px; border: 1px solid rgba(229,231,235,.9); background: rgba(255,255,255,.8); border-radius: 18px; padding: 16px; box-shadow: 0 10px 30px rgba(15,23,42,.06);">
        <h2 style="margin: 0 0 12px; font-size: 18px;">ИМТ (BMI)</h2>
        <div style="display: grid; gap: 8px; max-width: 420px;">
          <label>Рост (см)<br /><input id="bmi_h" type="number" inputmode="decimal" style="width: 100%; padding: 10px; border: 1px solid #e5e7eb; border-radius: 10px;" /></label>
          <label>Вес (кг)<br /><input id="bmi_w" type="number" inputmode="decimal" style="width: 100%; padding: 10px; border: 1px solid #e5e7eb; border-radius: 10px;" /></label>
          <button id="bmi_btn" type="button" style="padding: 10px 12px; border-radius: 10px; border: 1px solid #111827; background: #111827; color: white;">Посчитать</button>
          <div id="bmi_out" style="color: #111827;"></div>
        </div>
      </section>

      <section id="tdee" data-calc-panel style="margin-top: 12px; border: 1px solid rgba(229,231,235,.9); background: rgba(255,255,255,.8); border-radius: 18px; padding: 16px; box-shadow: 0 10px 30px rgba(15,23,42,.06); display: none;">
        <h2 style="margin: 0 0 12px; font-size: 18px;">TDEE (поддержание калорий)</h2>
        <div style="display: grid; gap: 8px; max-width: 520px;">
          <label>Пол<br />
            <select id="tdee_sex" style="width: 100%; padding: 10px; border: 1px solid #e5e7eb; border-radius: 10px;">
              <option value="male">Муж</option>
              <option value="female">Жен</option>
            </select>
          </label>
          <label>Возраст (лет)<br /><input id="tdee_age" type="number" style="width: 100%; padding: 10px; border: 1px solid #e5e7eb; border-radius: 10px;" /></label>
          <label>Рост (см)<br /><input id="tdee_h" type="number" style="width: 100%; padding: 10px; border: 1px solid #e5e7eb; border-radius: 10px;" /></label>
          <label>Вес (кг)<br /><input id="tdee_w" type="number" style="width: 100%; padding: 10px; border: 1px solid #e5e7eb; border-radius: 10px;" /></label>
          <label>Активность<br />
            <select id="tdee_act" style="width: 100%; padding: 10px; border: 1px solid #e5e7eb; border-radius: 10px;">
              <option value="1.2">Минимальная (сидячий)</option>
              <option value="1.375">Лёгкая (1-3 трен/нед)</option>
              <option value="1.55">Средняя (3-5 трен/нед)</option>
              <option value="1.725">Высокая (6-7 трен/нед)</option>
              <option value="1.9">Очень высокая (физ. работа)</option>
            </select>
          </label>
          <button id="tdee_btn" type="button" style="padding: 10px 12px; border-radius: 10px; border: 1px solid #111827; background: #111827; color: white;">Посчитать</button>
          <div id="tdee_out" style="color: #111827;"></div>
        </div>
      </section>

      <section id="1rm" data-calc-panel style="margin-top: 12px; border: 1px solid rgba(229,231,235,.9); background: rgba(255,255,255,.8); border-radius: 18px; padding: 16px; box-shadow: 0 10px 30px rgba(15,23,42,.06); display: none;">
        <h2 style="margin: 0 0 12px; font-size: 18px;">1RM (оценка максимума на 1 повтор)</h2>
        <div style="display: grid; gap: 8px; max-width: 420px;">
          <label>Вес (кг)<br /><input id="rm_w" type="number" inputmode="decimal" style="width: 100%; padding: 10px; border: 1px solid #e5e7eb; border-radius: 10px;" /></label>
          <label>Повторы (1-12)<br /><input id="rm_r" type="number" style="width: 100%; padding: 10px; border: 1px solid #e5e7eb; border-radius: 10px;" /></label>
          <button id="rm_btn" type="button" style="padding: 10px 12px; border-radius: 10px; border: 1px solid #111827; background: #111827; color: white;">Посчитать</button>
          <div id="rm_out" style="color: #111827;"></div>
        </div>
      </section>

      <script>
        (function () {
          function setActive(id) {
            try {
              var panels = document.querySelectorAll('[data-calc-panel]');
              for (var i = 0; i < panels.length; i++) {
                var p = panels[i];
                p.style.display = (p.id === id) ? '' : 'none';
              }

              var links = document.querySelectorAll('a[data-calc]');
              for (var j = 0; j < links.length; j++) {
                var a = links[j];
                var isActive = a.getAttribute('data-calc') === id;
                a.style.background = isActive ? '#111827' : '#ffffff';
                a.style.color = isActive ? '#ffffff' : '#111827';
                a.style.border = isActive ? '1px solid #111827' : '1px solid #e5e7eb';
              }
            } catch (e) {}
          }

          function readHash() {
            var h = (window.location.hash || '').replace('#', '').trim();
            if (h === 'bmi' || h === 'tdee' || h === '1rm') return h;
            return 'bmi';
          }

          function n(v) {
            var x = Number(v);
            return Number.isFinite(x) ? x : NaN;
          }

          try {
            setActive(readHash());
            window.addEventListener('hashchange', function () {
              setActive(readHash());
            });
          } catch (e) {}

          var bmiBtn = document.getElementById('bmi_btn');
          bmiBtn && bmiBtn.addEventListener('click', function () {
            var h = n(document.getElementById('bmi_h').value) / 100;
            var w = n(document.getElementById('bmi_w').value);
            var out = document.getElementById('bmi_out');
            if (!out) return;
            if (!h || !w) { out.textContent = 'Заполни рост и вес.'; return; }
            var bmi = w / (h * h);
            out.textContent = 'ИМТ: ' + bmi.toFixed(1);
          });

          var tdeeBtn = document.getElementById('tdee_btn');
          tdeeBtn && tdeeBtn.addEventListener('click', function () {
            var sex = document.getElementById('tdee_sex').value;
            var age = n(document.getElementById('tdee_age').value);
            var h = n(document.getElementById('tdee_h').value);
            var w = n(document.getElementById('tdee_w').value);
            var act = n(document.getElementById('tdee_act').value);
            var out = document.getElementById('tdee_out');
            if (!out) return;
            if (!age || !h || !w || !act) { out.textContent = 'Заполни все поля.'; return; }
            // Mifflin-St Jeor
            var bmr = (sex === 'male')
              ? (10 * w + 6.25 * h - 5 * age + 5)
              : (10 * w + 6.25 * h - 5 * age - 161);
            var tdee = bmr * act;
            out.textContent = 'Поддержание: ' + Math.round(tdee) + ' ккал/день';
          });

          var rmBtn = document.getElementById('rm_btn');
          rmBtn && rmBtn.addEventListener('click', function () {
            var w = n(document.getElementById('rm_w').value);
            var r = n(document.getElementById('rm_r').value);
            var out = document.getElementById('rm_out');
            if (!out) return;
            if (!w || !r) { out.textContent = 'Заполни вес и повторы.'; return; }
            if (r < 1 || r > 12) { out.textContent = 'Повторы должны быть 1-12.'; return; }
            // Epley
            var oneRm = w * (1 + r / 30);
            out.textContent = '1RM (оценка): ' + oneRm.toFixed(1) + ' кг';
          });
        })();
      </script>
      </div>
    </main>
  </body>
</html>
