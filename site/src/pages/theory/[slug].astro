---
import { getCollection } from "astro:content";

export async function getStaticPaths() {
  const items = await getCollection("theory");
  return items.map((entry) => ({ params: { slug: entry.slug }, props: { entry } }));
}

const { entry } = Astro.props;
const { Content } = await entry.render();
---

<html lang="ru">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <title>{entry.data.title}</title>
  </head>
  <body>
    <main style="max-width: 900px; margin: 0 auto; padding: 24px; font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;">
      <nav style="display: flex; gap: 12px; margin-bottom: 16px;">
        <a href="/" style="text-decoration: none;">Главная</a>
        <a href="/theory" style="text-decoration: none;">Теория</a>
      </nav>

      <h1 style="margin: 0 0 8px;">{entry.data.title}</h1>
      {entry.data.description && (
        <p style="margin: 0 0 16px; color: #4b5563;">{entry.data.description}</p>
      )}

      <article style="line-height: 1.6;">
        <Content />
      </article>
    </main>
  </body>
</html>
