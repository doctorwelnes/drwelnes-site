---
import { getCollection } from "astro:content";
import SiteLayout from "../layouts/SiteLayout.astro";

const recipes = await getCollection("recipes");
const exercises = await getCollection("exercises");
const recipesCount = recipes.length;
const exercisesCount = exercises.length;
const calculatorsCount = 3;
---

<SiteLayout title="Dr.Welnes">
  <section class="card card--hero" data-animate style="--delay: 0.05s;">
    <h1 class="hero-title">Здоровые привычки — проще, чем кажется</h1>
    <p class="hero-subtitle">
      Собранные в одном месте рецепты, упражнения и калькуляторы. Видео открывается прямо на странице — без внешних сервисов.
    </p>
    <div class="hero-actions">
      <a class="btn btn--primary" href="/recipes">Открыть рецепты</a>
      <a class="btn btn--ghost" href="/exercises">Открыть упражнения</a>
    </div>
    <div class="chip-row" style="margin-top: 12px;">
      <span class="chip">Видео на странице</span>
      <span class="chip">Пошаговые инструкции</span>
      <span class="chip">Без лишней воды</span>
    </div>
  </section>

  <section class="stat-row" data-animate style="--delay: 0.1s;">
    <div class="stat-card">
      <div class="stat-label">Рецептов</div>
      <div class="stat-value">{recipesCount}</div>
    </div>
    <div class="stat-card">
      <div class="stat-label">Упражнений</div>
      <div class="stat-value">{exercisesCount}</div>
    </div>
    <div class="stat-card">
      <div class="stat-label">Калькуляторов</div>
      <div class="stat-value">{calculatorsCount}</div>
    </div>
  </section>

  <section class="card-grid" data-animate style="--delay: 0.15s;">
    <a class="card card-link" href="/recipes">
      <div class="icon-badge">
        <svg width="22" height="22" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M4 7a3 3 0 0 1 3-3h10a3 3 0 0 1 3 3v12H7a3 3 0 0 1-3-3V7Z" stroke="#111827" stroke-width="2" stroke-linejoin="round" />
          <path d="M8 8h8M8 12h8M8 16h5" stroke="#111827" stroke-width="2" stroke-linecap="round" />
        </svg>
      </div>
      <div class="card-title">Рецепты</div>
      <div class="card-text">Пошаговое описание и видео</div>
    </a>
    <a class="card card-link" href="/exercises">
      <div class="icon-badge">
        <svg width="22" height="22" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M7 10V7a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v3" stroke="#111827" stroke-width="2" stroke-linecap="round" />
          <path d="M5 10h14l-1 10H6L5 10Z" stroke="#111827" stroke-width="2" stroke-linejoin="round" />
          <path d="M9 14v3M15 14v3" stroke="#111827" stroke-width="2" stroke-linecap="round" />
        </svg>
      </div>
      <div class="card-title">Упражнения</div>
      <div class="card-text">Техника выполнения и видео</div>
    </a>
    <a class="card card-link" href="/calculators">
      <div class="icon-badge">
        <svg width="22" height="22" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M7 4h10a2 2 0 0 1 2 2v14H7a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2Z" stroke="#111827" stroke-width="2" stroke-linejoin="round" />
          <path d="M9 8h2M13 8h2M9 12h2M13 12h2M9 16h6" stroke="#111827" stroke-width="2" stroke-linecap="round" />
        </svg>
      </div>
      <div class="card-title">Калькуляторы</div>
      <div class="card-text">ИМТ, TDEE, 1RM</div>
    </a>
  </section>

  <section class="card card--soft" data-animate style="--delay: 0.2s;">
    <h2 class="section-title">О проекте</h2>
    <p class="hero-subtitle">
      Dr.Welnes — это библиотека практичных материалов для здоровья: рецепты, упражнения и база знаний.
      Идея проста: меньше шума, больше пользы — и всё в одном месте.
    </p>
    <div class="stat-row" style="margin-top: 14px;">
      <div class="stat-card">
        <div class="stat-label">Миссия</div>
        <div style="margin-top: 6px; color: var(--muted); line-height: 1.55;">
          Сделать здоровый образ жизни понятным и удобным: короткие инструкции, наглядные видео и структурированная информация.
        </div>
      </div>
      <div class="stat-card">
        <div class="stat-label">Принципы</div>
        <div style="margin-top: 6px; color: var(--muted); line-height: 1.55;">
          Чёткая структура, быстрый поиск, контент без лишней воды. Видеофайлы хранятся на сервере и открываются в плеере на странице.
        </div>
      </div>
    </div>
  </section>
</SiteLayout>
